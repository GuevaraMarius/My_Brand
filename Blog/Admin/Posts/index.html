<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/e0ab0bdcee.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>Admin</title>
</head>
<body>
    <header>
       
        <div class="nav">
            
            <div class="nav_menu">
                
                <ul>
                    <li><i class="fas fa-user"></i><a href="./Profile/create.html"><br>PROFILE</a> </li>
                    <li><i class="fas fa-blog"></i><a href="./index.html"><br>POSTS</a> </li>
                <li><i class="fas fa-comments"></i><a href="./messages/messages.html"><br>MESSAGES</a></li>  
                <li><i class="fas fa-user-friends"></i><a href="./messages/messages.html"><br>USERS</a></li>  
                <li><i class="fas fa-sign-out-alt"></i><a href="#"><br>LOGOUT</a></li>
                </ul>
            </div>
        </div>
        <div class="norifications"></div>
    </header>
    <main>
        <div class="admin-wrapper">
            <div class="admin-content">
<div class="button-group">
    <a href="create.html"  class="button"id="others">Add Post</a>
    <a href="index.html" class="button"id="others">Manage Post</a>

</div>
<div class="content">
<h2 class="page-title">Manage Posts</h2>

</div>
<table>
    <thead>
        <th>Title</th>
        <th>date</th>
        <th colspan="3">Action</th>
    </thead>
    <tbody class="tabbody">
        
    </tbody>
</table>
            </div> 
        </div>
    </main>
    <script>
       // Make a request for a user with a given ID
axios.get('https://testewe.herokuapp.com/articles')
  .then(function (response) {
    let html = "";
    const post = document.querySelector('.tabbody');

      const posts = response.data.posts;
      posts.forEach(element => {
          const postElement = `
        <form action="/articles" id="deleteArticle">
        <tr><td>${element.title}</td>
            <td>${element.posted}</td>
        <td><a href="" class="button"id="edit">Edit</a></td>
        <td><a href="" class="button"id="delete">Delete</a></td>
        <td><a href="" class="button"id="others">Publish</a></td>
        </tr>
        </form>
        `
        html += postElement;
      });
      post.innerHTML = html;
  })
  .catch(function (error) {
    console.log(error);
  })
  
    </script>
     <!-- <script>  
        let form = document.getElementById('deleteArticle');
          form.addEventListener('click' , function (e){
            e.preventDefault();
            fetch('https://testewe.herokuapp.com/articles', {
            method: 'POST', 
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
            
          })
          .then(response => response.json())
          .then(data => {
            console.log('Success:', data)
          })
          form.addEventListener('click',(e)=>{
              console.log('hello');
          })
          .catch((error) => {
            console.error('Error:', error);
          });
          });
    </script> -->

</body>
</html>